# ðŸ§® Wave è®¡ç®—å™¨
# ä½¿ç”¨ Wave åŽŸç”Ÿ UI è¯­æ³•

gui tile

window "Wave Calculator" 320 480

# ==========================================
# æ ·å¼å®šä¹‰
# ==========================================

style background {
    fill: 0x1C1C1E
}

style display {
    fill: 0x2C2C2E
    radius: 10
    font_size: 48
    align: right
}

style btn_num {
    fill: 0x3A3A3C
    radius: 30
    font_size: 24
    align: center
}

style btn_func {
    fill: 0x636366
    radius: 30
    font_size: 24
    align: center
}

style btn_op {
    fill: 0xFF9500
    radius: 30
    font_size: 24
    align: center
}

style footer {
    fill: 0x1C1C1E
    font_size: 12
    align: left
}

# ==========================================
# èƒŒæ™¯
# ==========================================

apply background
box 0 0 320 480

# ==========================================
# æ˜¾ç¤ºå±
# ==========================================

apply display
box 10 10 300 80
text 280 50 "0"

# ==========================================
# æŒ‰é’®è¡Œ 1: C, +/-, %, Ã·
# ==========================================

apply btn_func
box 10 100 70 60
text 45 125 "C"

apply btn_func
box 85 100 70 60
text 120 125 "+/-"

apply btn_func
box 160 100 70 60
text 195 125 "%"

apply btn_op
box 235 100 70 60
text 270 125 "Ã·"

# ==========================================
# æŒ‰é’®è¡Œ 2: 7, 8, 9, Ã—
# ==========================================

apply btn_num
box 10 170 70 60
text 45 195 "7"

apply btn_num
box 85 170 70 60
text 120 195 "8"

apply btn_num
box 160 170 70 60
text 195 195 "9"

apply btn_op
box 235 170 70 60
text 270 195 "Ã—"

# ==========================================
# æŒ‰é’®è¡Œ 3: 4, 5, 6, -
# ==========================================

apply btn_num
box 10 240 70 60
text 45 265 "4"

apply btn_num
box 85 240 70 60
text 120 265 "5"

apply btn_num
box 160 240 70 60
text 195 265 "6"

apply btn_op
box 235 240 70 60
text 270 265 "-"

# ==========================================
# æŒ‰é’®è¡Œ 4: 1, 2, 3, +
# ==========================================

apply btn_num
box 10 310 70 60
text 45 335 "1"

apply btn_num
box 85 310 70 60
text 120 335 "2"

apply btn_num
box 160 310 70 60
text 195 335 "3"

apply btn_op
box 235 310 70 60
text 270 335 "+"

# ==========================================
# æŒ‰é’®è¡Œ 5: 0, ., =
# ==========================================

apply btn_num
box 10 380 145 60
text 82 405 "0"

apply btn_num
box 160 380 70 60
text 195 405 "."

apply btn_op
box 235 380 70 60
text 270 405 "="

# ==========================================
# çŠ¶æ€æ 
# ==========================================

apply footer
box 0 450 320 30
text 10 465 "Wave Calculator | Fate Active"

# ==========================================
# äº‹ä»¶å¤„ç†ï¼ˆFate è·¯ç”±ï¼‰
# ==========================================

# æ•°å­—æŒ‰é’®
on click 10 170 70 60 -> digit "7"
on click 85 170 70 60 -> digit "8"
on click 160 170 70 60 -> digit "9"
on click 10 240 70 60 -> digit "4"
on click 85 240 70 60 -> digit "5"
on click 160 240 70 60 -> digit "6"
on click 10 310 70 60 -> digit "1"
on click 85 310 70 60 -> digit "2"
on click 160 310 70 60 -> digit "3"
on click 10 380 145 60 -> digit "0"

# æ“ä½œæŒ‰é’®
on click 235 100 70 60 -> operate "/"
on click 235 170 70 60 -> operate "*"
on click 235 240 70 60 -> operate "-"
on click 235 310 70 60 -> operate "+"
on click 235 380 70 60 -> equals
on click 160 380 70 60 -> decimal

# åŠŸèƒ½æŒ‰é’®
on click 10 100 70 60 -> clear
on click 85 100 70 60 -> negate
on click 160 100 70 60 -> percent

# é”®ç›˜æ”¯æŒ
on key "0123456789" -> digit
on key "+-*/" -> operate
on key "=" -> equals
on key "Enter" -> equals
on key "Escape" -> clear
on key "c" -> clear

# ==========================================
# æ¸²æŸ“è¾“å‡º
# ==========================================

draw.render
draw.save "calculator.ppm"
draw.display

out "Wave Calculator Ready - Click or use keyboard"

syscall.exit(0)
